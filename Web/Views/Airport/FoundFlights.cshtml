@model IEnumerable<Airlines.Web.Models.FoundFlightsViewModel>

@{
    ViewData["Title"] = "Знайдені рейси";
}

<h1 class="text-center">@ViewData["Title"]</h1>

@{
    if (Model.Count() != 0)
    {
        <table class="table">
            <thead>
                <tr>
                    <th class="align-middle">
                        @Html.DisplayNameFor(model => model.DepartureCity)
                    </th>
                    <th class="align-middle">
                        @Html.DisplayNameFor(model => model.IncomingCity)
                    </th>
                    <th class="align-middle">
                        @Html.DisplayNameFor(model => model.DepartureDate)
                    </th>
                    <th class="align-middle">
                        @Html.DisplayNameFor(model => model.IncomingDate)
                    </th>
                    <th class="align-middle">
                        @Html.DisplayNameFor(model => model.MinimalPrice)
                    </th>
                    <th class="align-middle">
                        @Html.DisplayNameFor(model => model.PlaneName)
                    </th>
                    <th class="align-middle">
                        @Html.DisplayNameFor(model => model.PlaneModel)
                    </th>
                    <th class="align-middle">
                        @Html.DisplayNameFor(model => model.NumberOfAllPlaces)
                    </th>
                    <th class="align-middle">
                        @Html.DisplayNameFor(model => model.NumberOfFreePlaces)
                    </th>
                    <th class="align-middle">
                        Статус
                    </th>
                </tr>
            </thead>
            <tbody>
            @foreach (var item in Model)
            {
                <tr>
                    <td>
                        @Html.DisplayFor(modelItem => item.DepartureCity)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IncomingCity)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.DepartureDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.IncomingDate)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.MinimalPrice)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PlaneName)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.PlaneModel)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NumberOfAllPlaces)
                    </td>
                    <td>
                        @Html.DisplayFor(modelItem => item.NumberOfFreePlaces)
                    </td>
                    <td>
                        @if (item.OrderButtonIsActive)
                        {
                            Html.ActionLink("Перейти до покупки", "Buy", new {id = item.Id});
                        }
                        else
                        {
                            <div class="text-center">Розпродано</div>
                        }
                    </td>
                </tr>
            }
            </tbody>
        </table>
    }
    else
    {
        <hr/>
        <div class="text-center">Жодного рейсу не знайдено</div>
    }
}
